"""
–ü—Ä–æ–≥—Ä–∞–º–º–∞: Frontend —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
–í–µ—Ä—Å–∏—è: 1.0
"""

import os
import yaml
import streamlit as st
from src.data.get_data import load_data, get_dataset
from src.plotting.charts import barplot_group, kdeplotting, boxplotting
from src.train.training import start_training
from src.evaluate.evaluate import evaluate_input, evaluate_from_file
from src.styles.customization import custom_css, load_global_styles, color_panel


CONFIG_PATH = "../config/params.yml"
st.set_page_config(layout="wide")
st.set_option("deprecation.showPyplotGlobalUse", False)
st.markdown(custom_css(), unsafe_allow_html=True)
st.markdown(load_global_styles(), unsafe_allow_html=True)


with st.sidebar:
    st.image("logo_3.png", width=400)
    st.image("cat_4.png", width=400)


def data_page():
    """
    –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
    """
    st.write(
        "–î–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—é—Ç –≤ —Å–µ–±—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∫–æ–º–ø–∞–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ         "
        "—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∏ –¥—Ä.). "
        "–ü—Ä–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–∞–∫ —Å—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–∞–Ω–∏–∏, "
        "—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –æ–±—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å—Ç—Ä–∞–Ω–µ/–º–∏—Ä–µ, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –∏ —Ç.–¥."
    )
    st.markdown(
        '<h1 class="custom-title_3">–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π:</h1>', unsafe_allow_html=True
    )
    st.markdown(
        """
        ### Target
        - –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: 1 - –∫–æ–º–ø–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –±–∞–Ω–∫—Ä–æ—Ç–æ–º; 0 - –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –±–∞–Ω–∫—Ä–æ—Ç–æ–º"""
    )
    col1, col2 = st.columns(2)
    with col1:
        st.markdown(
            """
        ### –ê–∫—Ç–∏–≤—ã:
        - –ê–∫—Ç–∏–≤_–û—Ç—á - –∞–∫—Ç–∏–≤—ã –∫–æ–º–ø–∞–Ω–∏–∏ –∑–∞ *–æ—Ç—á–µ—Ç–Ω—ã–π* –ø–µ—Ä–∏–æ–¥
        - –ê–∫—Ç–∏–≤_–û–±–ê_–û—Ç—á - –æ–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
        - –ê–∫—Ç–∏–≤_–û–±–ê_–î–µ–±–ó–∞–¥_–û—Ç—á - –¥–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –æ—Ç—á–µ—Ç–Ω—É—é –¥–∞—Ç—É –æ—Ç—á–µ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
        - –ê–∫—Ç–∏–≤_–û–±–ê_–ó–∞–ø–∞—Å—ã_–û—Ç—á - –∑–∞–ø–∞—Å—ã –Ω–∞ –æ—Ç—á–µ—Ç–Ω—É—é –¥–∞—Ç—É –æ—Ç—á–µ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
        - –ê–∫—Ç–∏–≤_–û–±–ê_–î–µ–Ω–µ–∂–Ω–°—Ä_–û—Ç—á - –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
        - –ê–∫—Ç–∏–≤_–û–±–ê_–ü—Ä–æ—á–û–±–ê_–û—Ç—á - –ø—Ä–æ—á–∏–µ –æ–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã
        - –ê–∫—Ç–∏–≤_–í–Ω–µ–û–±–ê_–û—Ç—á - –≤–Ω–µ–æ–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
        - –ê–∫—Ç–∏–≤_–í–Ω–µ–û–±–ê_–û—Å–Ω–°—Ä_–û—Ç—á - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞"""
        )
    with col2:
        st.markdown(
            """
        ### –ü–∞—Å—Å–∏–≤—ã:
        - –ü–∞—Å—Å–∏–≤—ã_–û—Ç—á - –ø–∞—Å—Å–∏–≤—ã –∫–æ–º–ø–∞–Ω–∏–∏ –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
        - –ü–∞—Å—Å–∏–≤_–ö—Ä–∞—Ç–∫–æ—Å—Ä–û–±—è–∑/–î–æ–ª–≥–æ—Å—Ä–û–±—è–∑.. - –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ/–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
        - –ü–∞—Å—Å–∏–≤_–ö—Ä–∞—Ç–∫–æ—Å—Ä–û–±—è–∑_–ö—Ä–µ–¥–∏—Ç–ó–∞–¥–æ–ª–∂_–û—Ç—á - –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å
        - –ü–∞—Å—Å–∏–≤_–ö–∞–ø–†–µ–∑.. - –∫–∞–ø–∏—Ç–∞–ª –∏ —Ä–µ–∑–µ—Ä–≤—ã
        - –ü–∞—Å—Å–∏–≤_–ö–∞–ø–†–µ–∑_–ù–µ—Ä–∞—Å–ø–ü—Ä–∏–±_–û—Ç—á - –Ω–µ—Ä–∞—Å–ø—Ä–µ–¥–ª–µ–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å
        - –ü–∞—Å—Å–∏–≤_–ö–∞–ø–†–µ–∑_–£—Å—Ç–∞–≤–ö–∞–ø–∏—Ç–∞–ª_–û—Ç—á - —É—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª"""
        )
    st.markdown(
        """
        ### –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
        - –ü—Ä–ê—É–¥–∏—Ç - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∞—É–¥–∏—Ç–∞: 1 - –∫–æ–º–ø–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ –∞—É–¥–∏—Ç; 0 - –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∞—É–¥–∏—Ç
        - –í—ã—Ä—É—á_–û—Ç—á - –≤—ã—Ä—É—á–∫–∞
        - –ü—Ä–∏–±–ü—Ä–æ–¥_–û—Ç—á - –ø—Ä–∏–±—ã–ª—å(—É–±—ã—Ç–æ–∫) –æ—Ç –ø—Ä–æ–¥–∞–∂
        - –ü—Ä–æ—á–î–æ—Ö–æ–¥_–û—Ç—á - –ø—Ä–æ—á–∏–µ –¥–æ—Ö–æ–¥—ã
        - –°–æ–≤–§–∏–Ω–†–µ–∑_–û—Ç—á - —Å–æ–≤–æ–∫—É–ø–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        - –ü—Ä–æ—á–†–∞—Å—Ö–æ–¥_–û—Ç—á - –ø—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã
        - –°–µ–±–µ—Å—Ç–ü—Ä–æ–¥_–û—Ç—á - —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂
        - –ü—Ä–∏–±–£–±–î–æ–ù–∞–ª_–û—Ç—á - –ø—Ä–∏–±—ã–ª—å(—É–±—ã—Ç–æ–∫) –¥–æ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è
        - –í–∞–ª–æ–≤–∞—è–ü—Ä–∏–±—ã–ª—å_–û—Ç—á - –≤–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å(—É–±—ã—Ç–æ–∫)
        - –ù–∞–ª–ü—Ä–∏–±_–û—Ç—á - –Ω–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å
        - –¢–µ–∫–ù–∞–ª–ü—Ä–∏–±_–û—Ç—á - —Ç–µ–∫—É—â–∏–π –Ω–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å
        - –ß–∏—Å—Ç–ê–∫—Ç–∏–≤_–û—Ç—á - —á–∏—Å—Ç—ã–µ –∞–∫—Ç–∏–≤—ã
        - –ß–∏—Å—Ç–ü—Ä–∏–±–£–±_–û—Ç—á - —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å(—É–±—ã—Ç–æ–∫)
        - –î–≤–∏–∂–ö–∞–ø_–ò—Ç–æ–≥_–û—Ç—á - –≤–µ–ª–∏—á–∏–Ω–∞ –∫–∞–ø–∏—Ç–∞–ª–∞ –Ω–∞ 31 –¥–µ–∫–∞–±—Ä—è –æ—Ç—á–µ—Ç–Ω–æ–≥–æ –≥–æ–¥–∞
    """
    )
    st.warning(
        "–î–∞–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω—ã –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ **–æ—Ç—á—ë—Ç–Ω–æ–≥–æ** –ø–µ—Ä–∏–æ–¥–∞. –í –¥–∞—Ç–∞—Å–µ—Ç–µ —Ç–∞–∫–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç "
        "–¥–∞–Ω–Ω—ã–µ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏ –ø–æ–∑–∞–ø—Ä–æ—à–ª—ã–µ –≥–æ–¥—ã (–ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –æ—Ç—á–µ—Ç–Ω–æ–º—É). –û–Ω–∏ –∏–º–µ—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ "
        "–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏–π (–≤–º–µ—Å—Ç–æ –û—Ç—á - **–ü—Ä–µ–¥** –∏ **–ü—Ä–µ–¥–ü—Ä–µ–¥** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ)",
        icon="‚ÑπÔ∏è",
    )
    st.markdown(
        """
        ### –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ –¥–∞–Ω–Ω—ã–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
        - –ß–∏—Å—Ç–ù–æ—Ä–º–ü—Ä–∏–± - —á–∏—Å—Ç–∞—è –Ω–æ—Ä–º–∞ –ø—Ä–∏–±—ã–ª–∏
        - –í–∞–ª–æ–≤–∞—è–†–µ–Ω—Ç - –≤–∞–ª–æ–≤–∞—è —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
        - –†–µ–Ω—Ç–∞–±–û–ø–µ—Ä–î–µ—è—Ç - —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        - –°–æ–≤–æ–∫—É–ø–î–æ–ª–≥ - —Å–æ–≤–æ–∫—É–ø–Ω—ã–π –¥–æ–ª–≥
        - –ö–æ—ç—Ñ_–¢–µ–∫—É—â–õ–∏–∫–≤–∏–¥ - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
        - –†–µ–Ω—Ç–∞–±_–°–æ–±—Å—Ç–≤–ö–∞–ø - —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞
        - –ú—É–ª—å—Ç–∏–ø–ª–∏–∫_–°–æ–±—Å—Ç–≤–ö–∞–ø - –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞
        - –≠—Ñ—Ñ–µ–∫—Ç_–ò—Å–ø–æ–ª—å–∑_–ê–∫—Ç–∏–≤ - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤
    """
    )


def home_page():
    """
    –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤—ã–±–æ—Ä–æ–º —Ä–∞–∑–¥–µ–ª–∞
    """
    st.markdown(
        """
            <ul class="custom-title_4">
            –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî —ç—Ç–æ –Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
            –ø–æ –¥–µ–Ω–µ–∂–Ω—ã–º –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º –∏/–∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç—å –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ —É–ø–ª–∞—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π.
            –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ –ø–æ–º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤, –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤.
            </ul>
            """,
        unsafe_allow_html=True,
    )
    st.image("cat_3.jpg", width=600)


def exploratory():
    """
    –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º –¥–∞–Ω–Ω—ã—Ö
    """
    st.markdown('<h1 class="custom-title_2">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö</h1>', unsafe_allow_html=True)

    with open(CONFIG_PATH, encoding="utf-8") as file:
        config = yaml.load(file, Loader=yaml.FullLoader)

    graphs = [
        "–í–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª—è –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞–ø–∞—Å–æ–≤",
        "–í–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∏ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
        "–í–ª–∏—è–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π",
        "–í–ª–∏—è–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏",
    ]

    data = get_dataset(dataset_path=config["preprocessing"]["train_path_proc_2"])
    choice = st.selectbox("**–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ**", graphs)
    st.markdown("-----")

    st.write(data.head())
    st.warning(
        "–ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Å —Ü–µ–ª—å—é –æ—Ü–µ–Ω–∫–∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π –≤ –∏–º–µ—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö. –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ "
        "–ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–∞–Ω–∏–∏."
    )

    if choice == "–í–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª—è –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞–ø–∞—Å–æ–≤":
        st.markdown(
            '<h1 class="custom-title_3">–î–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å</h1>',
            unsafe_allow_html=True,
        )
        col1, col2 = st.columns(2)
        with col1:
            st.markdown(
                '<h1 class="custom-title_5">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–æ–ª–∏ –¥–µ–±–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏</h1>',
                unsafe_allow_html=True,
            )
            st.pyplot(
                kdeplotting(
                    data={
                        "–±–∞–Ω–∫—Ä–æ—Ç": data[data.target == 1].–î–æ–ª—è_–î–µ–±–ó–∞–¥–æ–ª–∂,
                        "–¥–µ–π—Å—Ç–≤—É—é—â–∞—è": data[data.target == 0].–î–æ–ª—è_–î–µ–±–ó–∞–¥–æ–ª–∂,
                    },
                    data_x="–î–æ–ª—è –¥–µ–±–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
                )
            )

        with col2:
            st.markdown(
                '<h1 class="custom-title_5">–î–æ–ª—è –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ - boxplot</h1>',
                unsafe_allow_html=True,
            )
            st.pyplot(
                boxplotting(
                    data=data,
                    x="target",
                    y="–î–æ–ª—è_–î–µ–±–ó–∞–¥–æ–ª–∂",
                    lim=None,
                    data_y="–î–æ–ª—è –¥–µ–±–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
                )
            )
        st.markdown(
            """
            <ul class="custom-title_4"></ul>
                <li>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–æ–ª–∏ –¥–µ–±. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –¥–ª—è –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ –∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π. 
                –î–ª—è –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ –Ω–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ –¥–æ–ª—è –¥–µ–±. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–Ω—å—à–µ –Ω—É–ª—è, –Ω–æ –±–æ–ª—å—à–µ –∫–æ–º–ø–∞–Ω–∏–π –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è
                –≤  –ø—Ä–æ–º–µ–∂—É—Ç–∫–µ –æ—Ç 0 –¥–æ 75 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤</ul>
                <li>–¢–∞–∫ –∫–∞–∫ –¥–ª—è –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ –ª–∏–±–æ –Ω–∏–∑–∫–∞—è –¥–æ–ª—è –¥–µ–±. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–±–ª–∏–∂–µ –∫ 0), 
                –ª–∏–±–æ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è (–æ—Ç 75%) –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏–º–µ—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 
                –¥–µ–±. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é –∏/–∏–ª–∏ –º–æ–≥—É—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ –±–æ–ª—å—à–µ —Ä–∏—Å–∫–æ–≤–∞—Ç—å –∑–∞ —Å—á—ë—Ç –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ 
                —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è</ul>
            </ul>
            """,
            unsafe_allow_html=True,
        )
        st.markdown('<h1 class="custom-title_3">–ó–∞–ø–∞—Å—ã</h1>', unsafe_allow_html=True)
        col3, col4 = st.columns(2)
        with col3:
            st.markdown(
                '<h1 class="custom-title_5">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–æ–ª–∏ –∑–∞–ø–∞—Å–æ–≤</h1>',
                unsafe_allow_html=True,
            )
            st.pyplot(
                kdeplotting(
                    data={
                        "–±–∞–Ω–∫—Ä–æ—Ç": data[data.target == 1].–î–æ–ª—è_–ó–∞–ø–∞—Å–æ–≤,
                        "–¥–µ–π—Å—Ç–≤—É—é—â–∞—è": data[data.target == 0].–î–æ–ª—è_–ó–∞–ø–∞—Å–æ–≤,
                    },
                    data_x="–î–æ–ª—è –∑–∞–ø–∞—Å–æ–≤",
                )
            )
        with col4:
            st.markdown(
                '<h1 class="custom-title_5">–î–æ–ª—è –∑–∞–ø–∞—Å–æ–≤ - boxplot</h1>',
                unsafe_allow_html=True,
            )
            st.pyplot(
                boxplotting(
                    data=data,
                    x="target",
                    y="–î–æ–ª—è_–ó–∞–ø–∞—Å–æ–≤",
                    lim=None,
                    data_y="–î–æ–ª—è –∑–∞–ø–∞—Å–æ–≤",
                )
            )
        st.markdown('<h1 class="custom-title_4"></h1>', unsafe_allow_html=True)
        st.markdown(
            """
            <ul class="custom-title_4"></ul>
            <li>–î–ª—è –∫–æ–º–ø–∞–Ω–∏–π –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ –∑–∞—á–∞—Å—Ç—É—é —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–æ–ª—è –∑–∞–ø–∞—Å–æ–≤ (–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ –≤—ã–±—Ä–æ—Å–æ–≤)</ul>
            <li>–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∑–∞—á–∞—Å—Ç—É—é –∏–º–µ—é—Ç –¥–æ–ª–∏ –∑–∞–ø–∞—Å–æ–≤ –≤ —Ä–∞–∑–º–µ—Ä–µ 20-60% </ul>
            </ul>
            """,
            unsafe_allow_html=True,
        )

    if choice == "–í–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∏ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏":
        st.markdown(
            '<h1 class="custom-title_3">–î–∏–Ω–∞–º–∏–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏</h1>',
            unsafe_allow_html=True,
        )
        col5, col6 = st.columns(2)
        with col5:
            st.markdown(
                '<h1 class="custom-title_5">–î–∏–Ω–∞–º–∏–∫–∞ –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∏ –ø–æ–∑–∞–ø—Ä–æ—à–ª—ã–π –≥–≥.</h1>',
                unsafe_allow_html=True,
            )
            st.pyplot(
                boxplotting(
                    data=data,
                    x="target",
                    y="–î–∏–Ω–∞–º_–ö—Ä–ó–∞–¥–æ–ª–∂_–ü—Ä–µ–¥_–ü—Ä–µ–¥–ü—Ä–µ–¥",
                    lim=(-1e2, 1e2),
                    data_y="–î–∏–Ω–∞–º–∏–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
                )
            )
        with col6:
            st.markdown(
                '<h1 class="custom-title_5">–î–∏–Ω–∞–º–∏–∫–∞ –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–π –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≥–≥.</h1>',
                unsafe_allow_html=True,
            )
            st.pyplot(
                boxplotting(
                    data=data,
                    x="target",
                    y="–î–∏–Ω–∞–º_–ö—Ä–ó–∞–¥–æ–ª–∂_–û—Ç—á_–ü—Ä–µ–¥",
                    lim=(-1e2, 1e2),
                    data_y="–î–∏–Ω–∞–º–∏–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
                )
            )
        st.markdown(
            """
            <ul class="custom-title_4"></ul>
            <li>–î–ª—è –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–æ—Å–æ–≤</ul> 
            <li>–ú–µ–¥–∏–∞–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ –¥–ª—è target 1 –∏ 0</ul>
            <li>–£ –∫–æ–º–ø–∞–Ω–∏–π –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ –±–û–ª—å—à–∏–π —Ä–∞–∑–±—Ä–æ—Å —Å—Ä–µ–¥–∏ –∑–Ω–∞—á–µ–Ω–∏–π –≤—ã—à–µ –º–µ–¥–∏–∞–Ω—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –¥–∏–Ω–∞–º–∏–∫–µ</ul> 
            "–æ—Ç—á—ë—Ç–Ω—ã–π-–ø—Ä–µ–¥—ã–¥—É—â–∏–π –≥–≥"</ul>
            </ul>
            """,
            unsafe_allow_html=True,
        )
        col5_1, col6_1 = st.columns([2, 8])
        with col5_1:
            st.markdown(
                '<h1 class="custom-title_4">–°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–∫–∂–µ –∏—Å–∫–∞–∂–µ–Ω—ã –∏–∑-–∑–∞ –∫–æ–º–ø–∞–Ω–∏–π '
                "—Å –±–æ–ª—å—à–∏–º–∏ –≤—ã–±—Ä–æ—Å–∞–º–∏:</h1>",
                unsafe_allow_html=True,
            )
            grouped_data = data.groupby("target")["–î–∏–Ω–∞–º_–ö—Ä–ó–∞–¥–æ–ª–∂_–û—Ç—á_–ü—Ä–µ–¥"].mean()
            output_text = grouped_data.to_string()
            st.text(output_text)
        with col6_1:
            st.markdown(
                """
                <ul class="custom-title_4"></ul>
                <li>–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–π —Ä–æ—Å—Ç –∫—Ä–µ–¥–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏, 
                –æ–Ω–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –±–∞–Ω–∫—Ä–æ—Ç–∞–º–∏</ul>
                <li>–û–¥–Ω–∞–∫–æ —Ç–∞–∫–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –±–∞–Ω–∫—Ä–æ—Ç–∞–º–∏</ul>
                </ul>
                """,
                unsafe_allow_html=True,
            )

    if choice == "–í–ª–∏—è–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π":
        st.markdown(
            '<h1 class="custom-title_3">–û—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π</h1>',
            unsafe_allow_html=True,
        )
        color_panel(
            "pink", "gray", "black", "–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è: [0.9:1.1]"
        )
        st.markdown(
            '<h1 class="custom-title_5">–û—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–µ–±–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π - target</h1>',
            unsafe_allow_html=True,
        )
        st.pyplot(
            barplot_group(
                data=data,
                col_main="–û—Ç–Ω–æ—à_–î–µ–±–∏—Ç–ö—Ä–µ–¥–∏—Ç_bins",
                col_group="target",
                data_x="–û—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π (–±–∏–Ω—ã)",
            )
        )
        st.markdown("---")
        st.markdown(
            """
            <ul class="custom-title_4"></ul>
            <li>–ò–∑ –≥—Ä–∞—Ñ–∏–∫–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –¥–µ–±–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–æ–π 
            –∏–º–µ–µ—Ç –º–∞–ª–µ–Ω—å–∫–æ–µ –∫–æ–ª-–≤–æ –∫–æ–º–ø–∞–Ω–∏–π –≤ —Ü–µ–ª–æ–º</ul>
            <li>–£ –∫–æ–º–ø–∞–Ω–∏–π –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ –±–æ–ª—å—à–µ –¥–æ–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∏–∂–µ –Ω–æ—Ä–º—ã, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç. –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ 
            –Ω–∞–¥ –¥–µ–±–∏—Ç–æ—Ä—Å–∫–æ–π</ul>
            <li>–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏–º–µ—é—Ç —á—É—Ç—å –±–æ–ª—å—à–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</ul>
            <li>–î–ª—è –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∏–∂–µ –Ω–æ—Ä–º—ã –º–æ–∂–µ—Ç –ø–æ–≤—ã—Å–∏—Ç—å —à–∞–Ω—Å —Ç–æ–≥–æ, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ —Å–º–æ–∂–µ—Ç 
            –ø–æ–≥–∞—Å–∏—Ç—å —Å–≤–æ–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞</ul>
            </ul>
            """,
            unsafe_allow_html=True,
        )

    if choice == "–í–ª–∏—è–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏":
        # st.markdown(
        #     """
        #     - –°–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –Ω–µ –æ–ø–ª–∞—Ç–∏—Ç—å –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ —Å—Ä–æ–∫
        #     (–∫–æ—ç—Ñ—Ñ-—Ç 1 –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–ª—è –æ–ø–ª–∞—Ç—ã —Ç–µ–∫—É—â–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –∫–æ–º–ø–∞–Ω–∏–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –≤—Å–µ –æ–±–æ—Ä–æ—Ç–Ω—ã–µ –∞–∫—Ç–∏–≤—ã)
        #     - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: [1.5:2.0]
        #     - –Ω–æ –∫–æ—ç—Ñ-—Ç —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö, –ø–æ—ç—Ç–æ–º—É –¥–∏–∞–ø–∞–∑–æ–Ω [150:200]
        #     """
        # )
        st.markdown(
            '<h1 class="custom-title_3">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏</h1>',
            unsafe_allow_html=True,
        )
        color_panel("pink", "gray", "black", "–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: [1.5:2.0]")
        st.markdown(
            """
            <ul class="custom-title_4"></ul>
            <li>–¢–∞–∫ –∫–∞–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö, –¥–∏–∞–ø–∞–∑–æ–Ω –∏–º–µ—Ç –≤–∏–¥ [150:200]</ul>
            <li>–°–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –∫–æ–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –Ω–µ –æ–ø–ª–∞—Ç–∏—Ç—å –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ —Å—Ä–æ–∫</ul>
            </ul>
            """,
            unsafe_allow_html=True,
        )
        st.markdown(
            '<h1 class="custom-title_5">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ - target</h1>',
            unsafe_allow_html=True,
        )
        st.pyplot(
            barplot_group(
                data=data,
                col_main="–ö–æ—ç—Ñ_–¢–µ–∫—É—â–õ–∏–∫–≤–∏–¥_–û—Ç—á_bins",
                col_group="target",
                data_x="–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (–±–∏–Ω—ã)",
            )
        )
        st.markdown("---")
        st.markdown(
            """
            <ul class="custom-title_4"></ul>
            <li>–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∏–∂–µ –Ω–æ—Ä–º—ã</ul>
            <li>–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏–º–µ–µ—Ç –Ω–µ–±–æ–ª—å—à–∞—è –¥–æ–ª—è –∫–æ–º–ø–∞–Ω–∏–π –≤ —Ü–µ–ª–æ–º, –≤ —Ç–æ–º —á–∏—Å–ª–µ 
                —Å—Ä–µ–¥–∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö (–æ–¥–Ω–∞–∫–æ —Å—Ä–µ–¥–∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ü–µ–Ω—Ç –≤ –¥–≤–∞ —Å –ø–æ–ª–æ–≤–∏–Ω–æ–π —Ä–∞–∑–∞ –≤—ã—à–µ)</ul>
            <li>–î–ª—è –∫–æ–º–ø–∞–Ω–∏–π –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∏–∂–µ –Ω–æ—Ä–º—ã</ul>
            """,
            unsafe_allow_html=True,
        )
        # st.markdown('<h1 class="custom-title_5">–î–∏–Ω–∞–º–∏–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞  –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–π –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≥–≥. - target</h1>',
        #             unsafe_allow_html=True)
        # st.pyplot(
        #     barplot_group(
        #         data=data,
        #         col_main='–î–∏–Ω–∞–º_–ö–æ—ç—Ñ–¢–µ–∫–õ–∏–∫–≤–∏–¥_–û—Ç—á–ü—Ä–µ–¥_bins',
        #         col_group='target',
        #         data_x='–¥–∏–Ω–∞–º–∏–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (–±–∏–Ω—ã)'
        #     )
        # )
        # st.markdown('---')
        # st.markdown(
        #     """
        #     <ul class="custom-title_4">
        #         <li>–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –±–∞–Ω–∫—Ä–æ—Ç–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ-—Ç–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∏–∂–µ –Ω–æ—Ä–º—ã
        #         <li>–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏–º–µ–µ—Ç –Ω–µ–±–æ–ª—å—à–∞—è –¥–æ–ª—è –∫–æ–º–ø–∞–Ω–∏–π –≤ —Ü–µ–ª–æ–º, –≤ —Ç–æ–º —á–∏—Å–ª–µ
        #         —Å—Ä–µ–¥–∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö (–æ–¥–Ω–∞–∫–æ —Å—Ä–µ–¥–∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ü–µ–Ω—Ç –≤ –¥–≤–∞ —Ä–∞–∑–∞ –≤—ã—à–µ)</ul>
        #     """,
        #     unsafe_allow_html=True
        # )
        # st.markdown('<h1 class="custom-title_4">–ù–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥ –æ —Ç–æ–º, —á—Ç–æ –¥–∏–Ω–∞–º–∏–∫–∞ –∫–æ—ç—Ñ-—Ç–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω—É '
        #             '–∏–ª–∏ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–∞–Ω–∏–∏</h1>', unsafe_allow_html=True)
        # st.markdown('<h1 class="custom-title_4">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–π –Ω—É–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏. '
        #             '–ê–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∑–∞—á–∞—Å—Ç—É—é –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä—è–º–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ü–µ–ª–µ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é. '
        #             '–ù–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–∫—Ç–æ—Ä–æ–≤, '
        #             '–≤–ª–∏—è—é—â–∏—Ö –Ω–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–∞–Ω–∏–∏</h1>', unsafe_allow_html=True)


def training():
    """
    –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏
    """
    st.markdown(
        '<h1 class="custom-title_2">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏</h1>', unsafe_allow_html=True
    )

    if "train_result" not in st.session_state:
        st.session_state.train_result = None
    if st.session_state.train_result:
        st.markdown("–ü—Ä–æ—à–ª—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:")
        st.markdown(st.session_state.train_result)

    with open(CONFIG_PATH, encoding="utf-8") as file:
        config = yaml.load(file, Loader=yaml.FullLoader)

    endpoint = config["endpoints"]["train"]

    if st.button("–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É ‚åõ"):
        st.session_state.train_result = start_training(config=config, endpoint=endpoint)

    if st.button("–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç üóëÔ∏è"):
        st.session_state.train_result = None
        st.experimental_rerun()


def prediction():
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –ø—É—Ç–µ–º –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
    """
    st.markdown('<h1 class="custom-title_2">–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</h1>', unsafe_allow_html=True)

    with open(CONFIG_PATH, encoding="utf-8") as file:
        config = yaml.load(file, Loader=yaml.FullLoader)

    endpoint = config["endpoints"]["prediction_input"]

    # unique_data_path = config["preprocessing"]["uniq_val_path_with_binar"]
    unique_data_path = config["preprocessing"]["unique_values_before_preproc"]
    param_features_path = config["preprocessing"]["input_features_path"]

    # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
    if os.path.exists(config["train"]["model_path"]):
        st.session_state.prediction_result = evaluate_input(
            unique_data_path=unique_data_path,
            param_features_path=param_features_path,
            endpoint=endpoint,
        )
    else:
        st.error("–°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å")

    if st.button("–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç"):
        st.session_state.prediction_result = None
        st.experimental_rerun()


def prediction_from_file():
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∏–∑ —Ñ–∞–π–ª–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
    """
    st.markdown(
        '<h1 class="custom-title_2">–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ —Ñ–∞–π–ª–∞</h1>',
        unsafe_allow_html=True,
    )

    if "predict_result" not in st.session_state:
        st.session_state.predict_result = None

    if "clear_result" not in st.session_state:
        st.session_state.clear_result = False

    if st.session_state.predict_result is not None:
        st.markdown("–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø—Ä–æ—à–ª—ã–µ):")
        st.write(st.session_state.predict_result)

    with open(CONFIG_PATH, encoding="utf-8") as file:
        config = yaml.load(file, Loader=yaml.FullLoader)

    endpoint = config["endpoints"]["prediction_from_file"]

    upload_file = st.file_uploader(
        "", type=["csv", "xlsx"], accept_multiple_files=False
    )
    # –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω –ª–∏ —Ñ–∞–π–ª
    if upload_file:
        dataset_csv_df, files = load_data(data=upload_file, type_data="Test")
        # –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
        if os.path.exists(config["train"]["model_path"]):
            st.session_state.predict_result = evaluate_from_file(
                data=dataset_csv_df, endpoint=endpoint, files=files
            )
        else:
            st.error("–°–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å")

    if st.button("–û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç üóëÔ∏è"):
        st.session_state.predict_result = None
        st.session_state.clear_result = True

    if st.session_state.clear_result:
        st.session_state.clear_result = False
        st.experimental_rerun()


def main():
    """
    –°–±–æ—Ä–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ –≤ –æ–¥–Ω–æ–º –±–ª–æ–∫–µ
    """
    st.markdown(custom_css(), unsafe_allow_html=True)
    st.markdown(
        "<h1 class='custom-title'>–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ –∫–æ–º–ø–∞–Ω–∏–π</h1>",
        unsafe_allow_html=True,
    )

    tab1, tab2 = st.tabs(
        [
            "‚öôÔ∏è **–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ**",
            "üìö **–û–ü–ò–°–ê–ù–ò–ï –î–ê–ù–ù–´–•**",
        ]
    )

    col1, col2 = st.columns(2)

    with col1:
        with tab1:
            # main_page()
            page_names_to_funcs = {
                "–û–∂–∏–¥–∞–Ω–∏–µ": home_page,
                "–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö": exploratory,
                "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏": training,
                "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ –¥–∞–Ω–Ω—ã–º –≤–≤–µ–¥–µ–Ω–Ω—ã–º –≤—Ä—É—á–Ω—É—é": prediction,
                "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ —Ñ–∞–π–ª–∞": prediction_from_file,
            }
            choice_two = st.radio("**–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:**", page_names_to_funcs)
            page_names_to_funcs[choice_two]()

    with col2:
        with tab2:
            data_page()


if __name__ == "__main__":
    main()
